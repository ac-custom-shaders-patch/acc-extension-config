AUTHOR = Sliderman, Beni
VERSION = 1.2
DATE_RELEASE = 21-02-02
NOTES = grassfx,rainfx

[SHADER_REPLACEMENT_...]
 MATERIALS=GRASSA04
 SHADER=ksperpixel

[LIGHTING]
LIT_MULT = 1

[INCLUDE]
INCLUDE = common\conditions.ini, common\materials_base.ini, common\materials_track.ini

[Material_Water]
Materials = ?WATER?, ?water?, ?LAKE?, ?lake?
Type = LAKE                    ; valid values: LAKE, POND, POOL, SEA, OCEAN
UseNormalMapTwice = 0          ; use txNormal as secondary normal map
UseAlphaFromDiffuse = 1        ; use alpha-channel from txDiffuse for blending
UseRecommendedTextures = 1     ; use recommended textures for water normals

[MESH_ADJUSTMENT_0]
ACTIVE = 1
DESCRIPTION = grass shadows
MESHES = weed?
CAST_SHADOWS = 1

[MODEL_REPLACEMENT_0]
ACTIVE = 1
DESCRIPTION = hide some objects
FILE = enna_pergusa2003.kn5
HIDE = AC_PIT?, AC_START?,

[MATERIAL_ADJUSTMENT_01]
ACTIVE = 1
DESCRIPTION = tarmac
MATERIALS = ROAD?
KEY_0 = ksAmbient
VALUE_0 = 0.475
KEY_1 = ksDiffuse
VALUE_1 = 0.575

[MATERIAL_ADJUSTMENT_02]
ACTIVE = 1
DESCRIPTION = grass, gravel
MATERIALS = ?GRASS?, ?Grass?, ?grass?,
KEY_0 = ksAmbient
VALUE_0 = 0.95
KEY_1 = ksDiffuse
VALUE_1 = 0.875

[MATERIAL_ADJUSTMENT_03]
ACTIVE = 1
DESCRIPTION = grass, gravel
MATERIALS = GRASSROW?
KEY_0 = ksAmbient
VALUE_0 = 0.315
KEY_1 = ksDiffuse
VALUE_1 = 0.175

[MATERIAL_ADJUSTMENT_04]
ACTIVE = 1
DESCRIPTION = weed
MATERIALS = WEED?,
KEY_0 = ksAmbient
VALUE_0 = 0.275
KEY_1 = ksDiffuse
VALUE_1 = 0.175

[MATERIAL_ADJUSTMENT_05]
ACTIVE = 1
DESCRIPTION = trees
MATERIALS = ?TREE?, ?BUSH?
KEY_0 = ksAmbient
VALUE_0 = 0.275
KEY_1 = ksDiffuse
VALUE_1 = 0.175

[MATERIAL_ADJUSTMENT_06]
ACTIVE = 1
DESCRIPTION = kerbs, lines
MATERIALS = ?RMBL?, SANDTRANS, TRACKBORDER
KEY_0 = ksAmbient
VALUE_0 = 0.2125
KEY_1 = ksDiffuse
VALUE_1 = 0.2125

[MATERIAL_ADJUSTMENT_07]
ACTIVE = 1
DESCRIPTION = grassline
MATERIALS = GRASSA?
KEY_0 = ksAmbient
VALUE_0 = 0.475
KEY_1 = ksDiffuse
VALUE_1 = 0.475

[MATERIAL_ADJUSTMENT_08]
ACTIVE = 1
DESCRIPTION = 
MATERIALS = GRDRMAIN
KEY_0 = ksAmbient
VALUE_0 = 0.45
KEY_1 = ksDiffuse
VALUE_1 = 0.55

[MATERIAL_ADJUSTMENT_09]
ACTIVE = 1
DESCRIPTION = Buildings, billboards
MATERIALS = CASA?, LOGO?
KEY_0 = ksAmbient
VALUE_0 = 0.45
KEY_1 = ksDiffuse
VALUE_1 = 0.55

[MATERIAL_ADJUSTMENT_10]
ACTIVE = 1
VISIBILITY_LEVEL = 0
DESCRIPTION = balloon and flame
MATERIALS = balloon_top?, balloon_flame
KEY_0 = ksEmissive
VALUE_0 = 255,220,185,0.01
VALUE_1_OFF = 0, 0, 0
CONDITION = BALLOON_FLAMES

[MATERIAL_ADJUSTMENT_11]
ACTIVE = 1
VISIBILITY_LEVEL = 0
DESCRIPTION = balloon flame
MATERIALS = ignition
KEY_0 = ksEmissive
VALUE_0 = 75, 70, 150,0.05

[MATERIAL_ADJUSTMENT_12]
ACTIVE = 1
DESCRIPTION = people
MATERIALS = ?people?
KEY_0 = ksAmbient
VALUE_0 = 0.25
KEY_1 = ksDiffuse
VALUE_1 = 0.25

[MATERIAL_ADJUSTMENT_13]
ACTIVE = 1
DESCRIPTION = grassborder
MATERIALS = GRASSA04
KEY_0 = ksAmbient
VALUE_0 = 0.375
KEY_1 = ksDiffuse
VALUE_1 = 0.375

[WIND]
IGNORE = GRASSROW? , SANDLINES ; MATERIALS

[SHADER_REPLACEMENT_0]
ACTIVE = 1
DESCRIPTION = ksTree to ksPerPixel
MATERIALS = GRASSROW?, SANDLINES?
SHADER = ksPerPixel

[SHADER_REPLACEMENT_1]
ACTIVE = 1
DESCRIPTION = ksGrass to ksPerPixelAlpha
MATERIALS = GRASSA04
SHADER = ksPerPixelAlpha

---GRASS---

[GRASS_FX]
GRASS_MATERIALS = BASEGROUND, GRASS2A, BASEGROUND2, DIRTGRASS
OCCLUDING_MATERIALS_ALPHA = RMBL?, TRACKBORDER, SANDLINES, DIRTBLEND, GRASSA04
MASK_BLUR = 1
MASK_MAIN_THRESHOLD = 
MASK_MAX_LUMINANCE = 1
MASK_MIN_LUMINANCE = 0.01
SHAPE_SIZE = 2.0
SHAPE_TIDY = 0, 0
SHAPE_CUT = 0, 0
TEXTURE = grass_fx/highlands.dds
TEXTURE_GRID = 8, 3
TEXTURE_BASE_CHANCE = 1
TEXTURE_GROUP_0_CHANCE = 0.5

[GRASS_FX_TEXTURE_GROUP_0]
PIECE_0 = 1, 1
PIECE_1 = 1, 2, 2, 1
PIECE_1_CHANCE = 0.05
PIECE_2 = 4, 1, 2, 2
PIECE_2_CHANCE = 1
PIECE_3 = 6, 1
PIECE_4 = 7, 1
PIECE_5 = 8, 1
PIECE_6 = 2, 1
PIECE_7 = 2, 2
PIECE_8 = 3, 1
PIECE_9 = 3, 2

[GRASS_FX_CONFIGURATION_A]
TRIM_PERIOD=
SHAPE_SIZE=7
SHAPE_TIDY=0
SHAPE_CUT=0
TEXTURE_BASE_CHANCE=1       ; chance of regular grass to spawn
TEXTURE_GROUP_0_CHANCE=1.0  ; chance of first group to spawn
; finally apply MAP A to nearby track grass

[GRASS_FX_ADJUSTMENT_...]
MATERIALS= BASEGROUND?
MAP=A

---RAIN---

[RAIN_FX]
PUDDLES_MATERIALS = SANDA, GRASSA04, LGROADMARBLE, ?ROAD?, RMBL?, ROADPLAINTARMAC, ENATENT1, CWALLTOP, CASA07E, CASA07B, SANDLINES

SOAKING_MATERIALS = GRASSA04, LGROADMARBLE, ?ROAD?, LOGOLGSR, ENATENT1, A2PAREDE, ENNA_STAND01, ENNA_STAND02, ENNA_STAND03, TREEK01_CR, TREEK02CR, CASA07, CASA07C, CASA07E, CASA07B, CONCG2, CASA07D, LOGOBACK, WALLGARDEN, CASA09, A2TELHADO, BRICK01, CASA12C, CASA12A, CASA12B, VIVENDA?, HUT03D, HUT03B,SANDTRANS

SMOOTH_MATERIALS = P06, P08, P10, P12, P15, GRDRMAIN, CONE2, LOGOYOKO, TWALL2, TWALL3, TWALLWHITE, LOGO_KWC4, GRAYMETAL, OBJ_SILVER_FL, OBJ_LIGHTPOST, CAM, OBJ_PITLANELIGHTS_FL, LOGOGIPICAR, OBJ_PSTAND_BR, OBJ_PSTAND_BR_S, N29, RAILS, BRIDGE02, MARSH2, BRIDGE01, BRIDGE03, BRIDGE04, OBJ_STARTLIGHTS, FENCEB, SIGN050, SIGN100, SIGN200, OBJ_TRUCKB3, OBJ_TRUCKB4, ENNA_STAND_FENCE, LOGOBRDG, VIVENDA03A, VIVENDA03B, LOGOVODA, TWALLRED, HUTA, HUTB, P03, LOGOMOBIL, TYRETOPG, P05, LOGOHSBC, LOGO_KWC1, HUT03C, LOGOLAGO1, LOGOLAGO, ARMCO1, LOGOAUTOLOMIS, LOGOCANON, WATER
 
ROUGH_MATERIALS = SANDA, TREE?, BASEGROUND2, CAMGUY

LINES_MATERIALS = ROADTARMACTRANS, ROADPAINTS

LINES_FILTER_MATERIALS = LGROADMARBLE, B1ROAD, ROAD01, ROAD02, ROAD03, ROAD4, ROADBRIGHT, ROADGRID, SANDLINES
